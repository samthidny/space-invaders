{"id":"cgEX","dependencies":[{"name":"/Users/asmit844/Personal/space-invaders/package.json","includedInParent":true,"mtime":1659568623279},{"name":"./sprite-animation.js","loc":{"line":1,"column":32},"parent":"/Users/asmit844/Personal/space-invaders/src/sprite-manager.js","resolved":"/Users/asmit844/Personal/space-invaders/src/sprite-animation.js"}],"generated":{"js":"var $cgEX$exports={};function $cgEX$var$_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function $cgEX$var$_defineProperties(t,e){for(var a=0;a<e.length;a++){var r=e[a];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $cgEX$var$_createClass(t,e,a){return e&&$cgEX$var$_defineProperties(t.prototype,e),a&&$cgEX$var$_defineProperties(t,a),Object.defineProperty(t,\"prototype\",{writable:!1}),t}$parcel$require(\"cgEX\",\"./sprite-animation.js\");var $cgEX$export$SpriteManager=function(){function t(){$cgEX$var$_classCallCheck(this,t),this.spriteImageDatas={},this.sprites=[],this.spriteAnimations={},this.frameCount=0}return $cgEX$var$_createClass(t,[{key:\"addAnimation\",value:function(t,e){for(var a=[],r=0;r<e.frames.length;r++){var i=this.createSpriteImageData(e.frames[r],e.colour);a.push(i)}this.spriteImageDatas[t]=a}},{key:\"getAnimation\",value:function(t){return this.spriteImageDatas[t]}},{key:\"addAnimationSpriteState\",value:function(t,e){var a=this.getAnimation(e);if(a){var r=new $cgEX$import$SpriteAnimation(a);this.spriteAnimations[t]=r}}},{key:\"getAnimationSpriteState\",value:function(t){var e=this.spriteAnimations[t];return e||null}},{key:\"drawToSprite\",value:function(t,e){var a=t.getContext(\"2d\"),r=this.getAnimationSpriteState(e);if(r){var i=r.currentFrameSprite;t.width=i.width,t.height=i.height,a.putImageData(i,0,0)}}},{key:\"createSpriteImageData\",value:function(t,e){for(var a=t[0].length,r=t.length,i=new ImageData(a,r),n=0;n<r;n++)for(var o=0;o<a;o++)this.setPixel(i,o,n,t[n][o]?e:null);return i}},{key:\"setPixel\",value:function(t,e,a,r){e=Math.round(e);var i=4*((a=Math.round(a))*t.width+e);t.data[i]=r>>16,t.data[i+1]=r>>8&255,t.data[i+2]=255&r,t.data[i+3]=null===r?0:255}},{key:\"update\",value:function(){if(this.frameCount>1e4){for(var t in this.spriteAnimations){var e=this.spriteAnimations[t];e&&e.nextFrame()}this.frameCount=0}this.frameCount++}}]),t}();$cgEX$exports.SpriteManager=$cgEX$export$SpriteManager;"},"sourceMaps":null,"error":null,"hash":"ebb6d24d6b5cba767b39b6ea342573f6","cacheData":{"env":{},"imports":{"$cgEX$import$SpriteAnimation":["./sprite-animation.js","SpriteAnimation"]},"exports":{"SpriteManager":"$cgEX$export$SpriteManager"},"wildcards":[],"sideEffects":true,"isES6Module":true,"shouldWrap":false}}